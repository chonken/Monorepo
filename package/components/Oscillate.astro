---
interface Props {
  class?: string
  seconds?: string | number
  translate?: string | number
  delay?: string | number
}
import { mergeClasses, parseUnit, parseMultiUnit } from '../utils'
const { class: className = '', seconds = '1', translate = '0 15%', delay = '0', ...rest } = Astro.props

const styleList = {
  '--tra': `translate(${parseMultiUnit(translate, '%')});`,
  '--sec': `${parseUnit(seconds, 's')};`,
  '--dly': `${parseUnit(delay, 's')};`,
}
const classList = mergeClasses(className, ['ch-osc']).join(' ')
---

<div class={classList} style={styleList} {...rest}><slot /></div>

<style is:global>
  .ch-osc > * {
    display: block;
    animation: osc var(--sec) var(--dly) ease-in-out infinite alternate;
  }
  @keyframes osc {
    100% {
      transform: var(--tra);
    }
  }
</style>
