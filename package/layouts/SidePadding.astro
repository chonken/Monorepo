---
interface Props {
  id?: string
  class?: string
  space?: 'normal' | 'wide' | 'narrow'
  paddingBlock?: string
  marginBlock?: string
}
import { mergeClasses, parseMultiUnit } from '../utils'
const { id, class: className = '', paddingBlock = '0', marginBlock = '0', space = 'normal', ...rest } = Astro.props

const spaceMap = {
  normal: '5%',
  wide: '2.5%',
  narrow: '10%',
}

const styleList = {
  '--sp': spaceMap[space] ?? '',
  '--pdb': parseMultiUnit(paddingBlock, 'px').join(' '),
  '--mgb': parseMultiUnit(marginBlock, 'px').join(' '),
}
const classList = mergeClasses(className, ['ch-spd']).join(' ')
---

<section id={id} class={classList} style={styleList} {...rest}>
  <slot />
</section>

<style is:global>
  .ch-spd {
    margin-block: var(--mgb);
    padding-block: var(--pdb);
    padding-inline: max(var(--sp), 25px) !important;
  }
</style>
